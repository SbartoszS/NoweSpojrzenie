<section class="offers-description">
  <div class="leaf-title">
    <div class="leaf-title__leaf">
      <h1 class="leaf-title__title">Oferta</h1>
    </div>
  </div>
  <div *ngIf="titlesList; then contentTitle else loadModal"></div>
  <div *ngIf="offersList; then contentAccordion else loadModal"></div>

  <ng-template #loadModal>
    <div class="blurred">
      <button class="loading-button" type="button" disabled>
        <div class="vert">
          <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
          <span class="visually-hidden">Loading...</span>
        </div>
      </button>
    </div>
  </ng-template>
  <ng-template #contentTitle>
    <div class="container">
      <h2 class="section-title">{{titlesList?.title_offer}}</h2>
      <p class="section-title__description">{{titlesList?.description_offer}}</p>
      <p class="section-title__description ">Zarezerwuj wizyte: 797-723-557 </p>
      <div class="title-container">
        <p class="title-container__titles" (click)="smoothScroll(item.id)" *ngFor='let item of offersList'>
          {{item.title_mainoffer}}</p>
      </div>
    </div>
  </ng-template>

  <ng-template #contentAccordion>
    <div class="container">
      <div class="single-offer" *ngFor='let item of offersList; let i = index'>
        <div class="col-12 col-lg-11">
          <div class="accordion" id="acc{{i+1}}">
            <div class="card">
              <div class="hero-shadow"></div>
              <div data-toggle="collapse" attr.data-target="#collapse{{i+1}}" aria-expanded="true"
                aria-controls="collapse{{i+1}}" (click)='switcharrow(i+1)'>
                <div class="offer">
                  <p class="offer__title">{{item.title_mainoffer}}</p>
                  <img src="./assets/img/arrow-icon-small.png" class="a{{i+1}} arrow-things" alt="arrow icon">
                </div>
              </div>
              <div id="collapse{{i+1}}" class="collapse" data-parent="#acc{{i+1}}">
                <div class="offer-specification">
                  <p>{{item.description_part1_mainoffer}}</p>
                  <p>{{item.description_part2_mainoffer}}</p>
                  <p>{{item.description_part3_mainoffer}}</p>
                </div>
              </div>
            </div>
            <div class="wrapper-bottom wrapper_slider{{i+1}}">
              <div class="comparision">
                <div class="comparision__img-1" [style.backgroundImage]="'url('+item.url_imgbefore_mainoffer.guid+')'"></div>
                <div class="comparision__img-2" [style.backgroundImage]="'url('+item.url_imgafter_mainoffer.guid+')'"></div>
              </div>
              <div class="slider slider{{i+1}}">
                <div class="slider__drag">
                  <span class="slider__circle"></span>
                </div>
                <input class="slider__input" attr.data-slide="slider{{i+1}}" type="range" min="0" max="100" value="50"
                  (input)="progressChange($event)">
              </div>
            </div>
            <div class="text-slider">
              <p class="text-slider__before">Przed</p>
              <p class="text-slider__after">Po</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </ng-template>
</section>